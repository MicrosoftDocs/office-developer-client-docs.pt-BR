---
title: Sobre URLs MAPI para indexação baseada em notificação
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
localization_priority: Normal
ms.assetid: 9cb35f0a-267e-2d85-1701-02d52578a0b8
description: 'Última modificação: 08 de novembro de 2011'
ms.openlocfilehash: 5a3e45809f36b71968560a4b239e268addf00474
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/23/2019
ms.locfileid: "32322229"
---
# <a name="about-mapi-urls-for-notification-based-indexing"></a><span data-ttu-id="c645b-103">Sobre URLs MAPI para indexação baseada em notificação</span><span class="sxs-lookup"><span data-stu-id="c645b-103">About MAPI URLs for Notification-Based Indexing</span></span>

<span data-ttu-id="c645b-104">**Aplica-se a**: Outlook 2013 | Outlook 2016</span><span class="sxs-lookup"><span data-stu-id="c645b-104">**Applies to**: Outlook 2013 | Outlook 2016</span></span> 
  
<span data-ttu-id="c645b-105">Quando um provedor de armazenamento notifica um indexador de que um objeto está pronto para indexação, ele gera uma URL MAPI que identifica exclusivamente o objeto para o manipulador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="c645b-105">When a store provider notifies an indexer that an object is ready for indexing, it generates a MAPI URL that uniquely identifies the object to the MAPI Protocol Handler.</span></span> <span data-ttu-id="c645b-106">As URLs de MAPI são codificadas em Unicode e têm o seguinte formato:</span><span class="sxs-lookup"><span data-stu-id="c645b-106">MAPI URLs are encoded in Unicode, and have the following format:</span></span> 
  
`Mapi://SID/StoreDisplayName ($HashNumber)/StoreType/FolderNameA/…/FolderNameN/[EntryIDEncoded[/at=AttachIDEncoded:FileName]]`

<span data-ttu-id="c645b-107">A tabela a seguir descreve as várias partes de uma URL típica.</span><span class="sxs-lookup"><span data-stu-id="c645b-107">The following table describes the various parts of a typical URL.</span></span>

|<span data-ttu-id="c645b-108">Parte</span><span class="sxs-lookup"><span data-stu-id="c645b-108">Part</span></span> | <span data-ttu-id="c645b-109">Descrição</span><span class="sxs-lookup"><span data-stu-id="c645b-109">Description</span></span>|
|:----|:-----------|  
|<span data-ttu-id="c645b-110">*Identifica*</span><span class="sxs-lookup"><span data-stu-id="c645b-110">*SID*</span></span> |<span data-ttu-id="c645b-111">O identificador de segurança do usuário atual.</span><span class="sxs-lookup"><span data-stu-id="c645b-111">The current user's security identifier.</span></span>| 
|<span data-ttu-id="c645b-112">*StoreDisplayName*</span><span class="sxs-lookup"><span data-stu-id="c645b-112">*StoreDisplayName*</span></span> |<span data-ttu-id="c645b-113">Uma cadeia de caracteres que especifica o nome de exibição do usuário no repositório.</span><span class="sxs-lookup"><span data-stu-id="c645b-113">A string that specifies the display name of the user on that store.</span></span>|
|<span data-ttu-id="c645b-114">*HashNumber*</span><span class="sxs-lookup"><span data-stu-id="c645b-114">*HashNumber*</span></span> |<span data-ttu-id="c645b-115">Uma **DWORD** em representação hexadecimal que é calculada com base na ID de entrada da loja ou na assinatura de mapeamento de repositório.</span><span class="sxs-lookup"><span data-stu-id="c645b-115">A **DWORD** in hexadecimal representation that is calculated based on the store entry ID or the store mapping signature.</span></span> <span data-ttu-id="c645b-116">Esse valor é armazenado no registro e será usado posteriormente para identificar o repositório no manipulador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="c645b-116">This value is stored in the registry and will be used later to identify the store in the MAPI Protocol Handler.</span></span><br/><br/><span data-ttu-id="c645b-117">Esse número deve ser calculado de uma forma que minimize as colisões com outras lojas.</span><span class="sxs-lookup"><span data-stu-id="c645b-117">This number must be calculated in a way that minimizes collisions with other stores.</span></span> <span data-ttu-id="c645b-118">Para o algoritmo que o Microsoft Outlook usa para calcular o número de hash, confira [algoritmo para calcular o número de hash do repositório](algorithm-to-calculate-the-store-hash-number.md).</span><span class="sxs-lookup"><span data-stu-id="c645b-118">For the algorithm that Microsoft Outlook uses to calculate the hash number, see [Algorithm to Calculate the Store Hash Number](algorithm-to-calculate-the-store-hash-number.md).</span></span>|
|<span data-ttu-id="c645b-119">*StoreType*</span><span class="sxs-lookup"><span data-stu-id="c645b-119">*StoreType*</span></span> |<span data-ttu-id="c645b-120">Um número que identifica o tipo de armazenamento que contém o objeto a ser indexado.</span><span class="sxs-lookup"><span data-stu-id="c645b-120">A number that identifies the type of the store that contains the object to be indexed.</span></span> <span data-ttu-id="c645b-121">Os valores possíveis são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="c645b-121">The possible values are as follows:</span></span><br/><span data-ttu-id="c645b-122">-0-repositório padrão.</span><span class="sxs-lookup"><span data-stu-id="c645b-122">- 0 - Default store.</span></span><br/><br/><span data-ttu-id="c645b-123">-1-repositório de representante, usado para itens delegados armazenados em cache localmente.</span><span class="sxs-lookup"><span data-stu-id="c645b-123">- 1 - Delegate store, used for delegate items cached locally.</span></span><br/><br/><span data-ttu-id="c645b-124">-2-pastas públicas, usadas para a pasta pública favoritos.</span><span class="sxs-lookup"><span data-stu-id="c645b-124">- 2 - Public folders, used for public folder favorites.</span></span><br/><br/><span data-ttu-id="c645b-125">**Observação**: se o repositório estiver sendo rastreado em vez de enviado, o valor usado será o caractere*X*.</span><span class="sxs-lookup"><span data-stu-id="c645b-125">**NOTE**: If the store is being crawled instead of pushed, the value that is used is the character*X*.</span></span>| 
|<span data-ttu-id="c645b-126">*Nome_da_pastaa/.../nome_da_pasta*</span><span class="sxs-lookup"><span data-stu-id="c645b-126">*FolderNameA/…/FolderNameN*</span></span> |<span data-ttu-id="c645b-127">O caminho da raiz do IPM_SUBTREE para a pasta ou a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c645b-127">The path from the root of the IPM_SUBTREE to the folder or message.</span></span> <span data-ttu-id="c645b-128">Por exemplo, uma mensagem na pasta **família** em **caixa de entrada** tem **caixa de entrada/família** para esse parâmetro.</span><span class="sxs-lookup"><span data-stu-id="c645b-128">For example, a message in the **Family** folder under **Inbox** has **Inbox/Family** for this parameter.</span></span> |
|<span data-ttu-id="c645b-129">*EntryIDEncoded*</span><span class="sxs-lookup"><span data-stu-id="c645b-129">*EntryIDEncoded*</span></span> |<span data-ttu-id="c645b-130">ID de entrada MAPI para o item codificado como uma cadeia de caracteres Unicode.</span><span class="sxs-lookup"><span data-stu-id="c645b-130">MAPI entry ID for the item encoded as a Unicode string.</span></span> <span data-ttu-id="c645b-131">Consulte a seção "caracteres especiais" a seguir para obter informações sobre como determinados caracteres especiais são codificados.</span><span class="sxs-lookup"><span data-stu-id="c645b-131">See the following section "Special Characters" for information about how certain special characters are encoded.</span></span> <span data-ttu-id="c645b-132">Para obter mais informações sobre o algoritmo para codificar a identificação de entrada, confira [algoritmo para codificar IDs de entrada e IDs de anexo](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span><span class="sxs-lookup"><span data-stu-id="c645b-132">For more information about the algorithm to encode the entry ID, see [Algorithm to Encode Entry IDs and Attachment IDs](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span></span><br/><br/><span data-ttu-id="c645b-133">**Observação**: quando exibido como texto, essa ID de entrada codificada aparece como caracteres Hangul aleatórios ou caixas em conformidade com o algoritmo, dependendo das fontes disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c645b-133">**NOTE**: When viewed as text, this encoded entry ID appears as random Hangul characters or boxes in compliance with the algorithm, depending on available fonts.</span></span>  |
|<span data-ttu-id="c645b-134">*AttachIDEncoded*</span><span class="sxs-lookup"><span data-stu-id="c645b-134">*AttachIDEncoded*</span></span> |<span data-ttu-id="c645b-135">ID de anexo codificada como uma cadeia de caracteres Unicode.</span><span class="sxs-lookup"><span data-stu-id="c645b-135">Attachment ID encoded as a Unicode string.</span></span> <span data-ttu-id="c645b-136">Consulte a seção "caracteres especiais" a seguir para obter informações sobre como determinados caracteres especiais são codificados.</span><span class="sxs-lookup"><span data-stu-id="c645b-136">See the following section "Special Characters" for information about how certain special characters are encoded.</span></span> <span data-ttu-id="c645b-137">Para obter mais informações sobre o algoritmo para codificar a identificação de entrada, confira [algoritmo para codificar IDs de entrada e IDs de anexo](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span><span class="sxs-lookup"><span data-stu-id="c645b-137">For more information about the algorithm to encode the entry ID, see [Algorithm to Encode Entry IDs and Attachment IDs](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span></span><br/><br/><span data-ttu-id="c645b-138">**Observação**: quando exibido como texto, essa ID de entrada codificada aparece como caracteres Hangul aleatórios ou caixas em conformidade com o algoritmo, dependendo das fontes disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c645b-138">**NOTE**: When viewed as text, this encoded entry ID appears as random Hangul characters or boxes in compliance with the algorithm, depending on available fonts.</span></span> |
|<span data-ttu-id="c645b-139">*FileName*</span><span class="sxs-lookup"><span data-stu-id="c645b-139">*FileName*</span></span> |<span data-ttu-id="c645b-140">Nome do arquivo de anexo, como aparece na mensagem.</span><span class="sxs-lookup"><span data-stu-id="c645b-140">Name of the attachment file, as it appears in the message.</span></span>|
    
## <a name="examples-of-mapi-urls"></a><span data-ttu-id="c645b-141">Exemplos de URLs de MAPI</span><span class="sxs-lookup"><span data-stu-id="c645b-141">Examples of MAPI URLs</span></span>

<span data-ttu-id="c645b-142">Veja a seguir alguns exemplos de URLs de MAPI.</span><span class="sxs-lookup"><span data-stu-id="c645b-142">The following are some examples of MAPI URLs.</span></span>
  
- <span data-ttu-id="c645b-143">URL MAPI de uma pasta:</span><span class="sxs-lookup"><span data-stu-id="c645b-143">MAPI URL for a folder:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($be19928f)/2/Office`
    
- <span data-ttu-id="c645b-144">URL MAPI para uma mensagem:</span><span class="sxs-lookup"><span data-stu-id="c645b-144">MAPI URL for a message:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($484efb89)/0/Calendar/곯가가가걍걝걌곌겷걢곒갑겛개가검걟곔걙곾걤곂갠가`
    
- <span data-ttu-id="c645b-145">URL MAPI de um anexo:</span><span class="sxs-lookup"><span data-stu-id="c645b-145">MAPI URL for an attachment:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($484efb89)/0/Inbox/곯가가가걍걝걌곌겷걢곒갑겛개가검걟곔걙곾간곷갦가/at=겅걋각가:somefile.txt`
    
## <a name="special-characters"></a><span data-ttu-id="c645b-146">Caracteres especiais</span><span class="sxs-lookup"><span data-stu-id="c645b-146">Special characters</span></span>

<span data-ttu-id="c645b-147">Determinados caracteres serão codificados se aparecerem na mensagem ou no anexo.</span><span class="sxs-lookup"><span data-stu-id="c645b-147">Certain characters are encoded if they appear in the message or attachment.</span></span> <span data-ttu-id="c645b-148">O seguinte mostra quais caracteres são codificados em uma URL MAPI:</span><span class="sxs-lookup"><span data-stu-id="c645b-148">The following shows which characters are encoded in a MAPI URL:</span></span>
  
- <span data-ttu-id="c645b-149">% >% 25</span><span class="sxs-lookup"><span data-stu-id="c645b-149">% > %25</span></span>
    
- <span data-ttu-id="c645b-150">/>% 2F</span><span class="sxs-lookup"><span data-stu-id="c645b-150">/ > %2F</span></span> 
    
- <span data-ttu-id="c645b-151">\ >% 5C</span><span class="sxs-lookup"><span data-stu-id="c645b-151">\ > %5C</span></span> 
    
- <span data-ttu-id="c645b-152">\*>% 2A</span><span class="sxs-lookup"><span data-stu-id="c645b-152">\* > %2A</span></span> 
    
- <span data-ttu-id="c645b-153">?</span><span class="sxs-lookup"><span data-stu-id="c645b-153"></span></span> <span data-ttu-id="c645b-154">>% 3F</span><span class="sxs-lookup"><span data-stu-id="c645b-154">> %3F</span></span> 
    
## <a name="blob-associated-with-each-mapi-url"></a><span data-ttu-id="c645b-155">Blob associado a cada URL MAPI</span><span class="sxs-lookup"><span data-stu-id="c645b-155">Blob associated with each MAPI URL</span></span>

<span data-ttu-id="c645b-156">Ao estender uma URL MAPI para um objeto a ser indexado, um provedor de repositório também cria um objeto binário grande (BLOB) que contém determinadas informações para o manipulador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="c645b-156">When pushing a MAPI URL for an object to be indexed, a store provider also creates a binary large object (BLOB) that contains certain information for the MAPI Protocol Handler.</span></span> <span data-ttu-id="c645b-157">O provedor de repositório associa este BLOB a cada URL MAPI e o envia ao enviar a URL MAPI para o indexador.</span><span class="sxs-lookup"><span data-stu-id="c645b-157">The store provider associates this BLOB with each MAPI URL and sends it when pushing the MAPI URL to the indexer.</span></span> <span data-ttu-id="c645b-158">O formato do BLOB é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c645b-158">The format of the BLOB is as follows:</span></span> 
  
```cpp
DWORD  dwVersion
DWORD  dwFlags
ULONG  cbProfileName
WCHAR  wszProfileName
ULONG  cbProviderItemID
WCHAR  wszProviderItemID
```

<span data-ttu-id="c645b-159">O provedor de repositório deve gravar esses valores no BLOB na ordem mostrada.</span><span class="sxs-lookup"><span data-stu-id="c645b-159">The store provider must write these values to the BLOB in the order shown.</span></span> <span data-ttu-id="c645b-160">A tabela a seguir descreve cada campo do BLOB.</span><span class="sxs-lookup"><span data-stu-id="c645b-160">The following table describes each field of the BLOB.</span></span>

|<span data-ttu-id="c645b-161">Parte</span><span class="sxs-lookup"><span data-stu-id="c645b-161">Part</span></span> | <span data-ttu-id="c645b-162">Descrição</span><span class="sxs-lookup"><span data-stu-id="c645b-162">Description</span></span>|
|:----|:-----------|  
|<span data-ttu-id="c645b-163">*dwVersion*</span><span class="sxs-lookup"><span data-stu-id="c645b-163">*dwVersion*</span></span> |<span data-ttu-id="c645b-164">Esta é a versão dos dados que estão sendo enviados.</span><span class="sxs-lookup"><span data-stu-id="c645b-164">This is the version of the data being sent.</span></span> <span data-ttu-id="c645b-165">No momento, esse valor é 1.</span><span class="sxs-lookup"><span data-stu-id="c645b-165">Currently this value is 1.</span></span>|
|<span data-ttu-id="c645b-166">*dwFlags*</span><span class="sxs-lookup"><span data-stu-id="c645b-166">*dwFlags*</span></span> |<span data-ttu-id="c645b-167">Reservado para uso futuro.</span><span class="sxs-lookup"><span data-stu-id="c645b-167">Reserved for future use.</span></span> <span data-ttu-id="c645b-168">No momento, esse valor deve ser 0.</span><span class="sxs-lookup"><span data-stu-id="c645b-168">Currently this value should be 0.</span></span>|
|<span data-ttu-id="c645b-169">*cbProfileName*</span><span class="sxs-lookup"><span data-stu-id="c645b-169">*cbProfileName*</span></span> |<span data-ttu-id="c645b-170">O tamanho do nome do perfil, em bytes.</span><span class="sxs-lookup"><span data-stu-id="c645b-170">The size of the profile name, in bytes.</span></span> <span data-ttu-id="c645b-171">Essas informações são úteis para que o manipulador de protocolo MAPI saiba qual perfil usar ao indexar o item.</span><span class="sxs-lookup"><span data-stu-id="c645b-171">This information is useful for the MAPI Protocol Handler to know which profile to use when indexing the item.</span></span>|
|<span data-ttu-id="c645b-172">*wszProfileName*</span><span class="sxs-lookup"><span data-stu-id="c645b-172">*wszProfileName*</span></span> |<span data-ttu-id="c645b-173">Cadeia de caracteres Unicode terminada em nulo que contém o nome do perfil.</span><span class="sxs-lookup"><span data-stu-id="c645b-173">Null-terminated Unicode string that contains the profile name.</span></span>|
|<span data-ttu-id="c645b-174">*cbProviderItemID*</span><span class="sxs-lookup"><span data-stu-id="c645b-174">*cbProviderItemID*</span></span> |<span data-ttu-id="c645b-175">Tamanho da ID do item do provedor, em bytes.</span><span class="sxs-lookup"><span data-stu-id="c645b-175">Size of the provider item ID, in bytes.</span></span> <span data-ttu-id="c645b-176">O provedor de repositório deve enviar somente a ID de item de provedor para pastas, para evitar a abertura de pastas adicionais para obter essas informações.</span><span class="sxs-lookup"><span data-stu-id="c645b-176">The store provider should send only the provider item ID for folders, to prevent opening additional folders to get this information.</span></span>|
|<span data-ttu-id="c645b-177">*wszProviderItemID*</span><span class="sxs-lookup"><span data-stu-id="c645b-177">*wszProviderItemID*</span></span> |<span data-ttu-id="c645b-178">Cadeia de caracteres Unicode terminada em nulo com a ID de item do provedor que identifica exclusivamente o item no repositório.</span><span class="sxs-lookup"><span data-stu-id="c645b-178">Null-terminated Unicode string with the provider item ID that uniquely identifies the item in the store.</span></span>|
    
## <a name="see-also"></a><span data-ttu-id="c645b-179">Confira também</span><span class="sxs-lookup"><span data-stu-id="c645b-179">See also</span></span>

- [<span data-ttu-id="c645b-180">Sobre a indexação de repositórios baseados em notificação</span><span class="sxs-lookup"><span data-stu-id="c645b-180">About Notification-Based Store Indexing</span></span>](about-notification-based-store-indexing.md)
- [<span data-ttu-id="c645b-181">Constantes de MAPI</span><span class="sxs-lookup"><span data-stu-id="c645b-181">MAPI Constants</span></span>](mapi-constants.md)

